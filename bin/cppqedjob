#!/usr/bin/python

import logging
import sys
import os
import base64
import cPickle as pickle
import teazertools.submitter as submitter
import warnings

def main():
    warnings.simplefilter("ignore",FutureWarning)
    warnings.simplefilter("ignore",DeprecationWarning)
    if not len(sys.argv)>1:
        logging.error("Need a JobArray object as commandline argument. Note that this script is not intended to be called manually.")
        sys.exit(1)
    job = pickle.loads(base64.decodestring(sys.argv[1]))
    logging.getLogger().setLevel(job.loglevel)
    job.run()


if __name__ == '__main__':
    main()
